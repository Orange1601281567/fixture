{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/Home.vue?1d4e","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/api/system/user.js","webpack:///./src/views/Home.vue?33cf"],"names":["$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","this","undefined","fails","module","exports","METHOD_NAME","argument","method","render","_vm","_h","$createElement","_c","_self","style","position","zIndex","width","lineHeight","float","attrs","on","handleClick","getRole","key","_v","_e","staticStyle","_s","userInfo","name","mineClick","slot","role","indexOf","padding","marginTop","background","minHeight","transitionName","pwdmodel","onClose","ref","rules","span","model","value","callback","$$v","$set","expression","offset","onSubmit","showmine","hidepwdModal","username","power","visible","handleOk","handleCancel","rulestwo","formData","staticRenderFns","data","password","oldpassword","newpassword","qmodel","build","process","pwdtime","pwdbyuser","powertime","powerbyuser","id","userrole","methods","security","router","localStorage","clear","$refs","ruleForm","validate","valid","ruleForms","resetFields","clearValidate","created","component","getInfo","request","url","pageList","query","params","save","del"],"mappings":"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","file":"assets/js/chunk-0ca9d94f.1dc87d6c.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-layout',[_c('a-layout-header',{style:({ position: 'fixed', zIndex: 1, width: '100%' })},[_c('a-menu',{style:({ lineHeight: '64px',float:'left' }),attrs:{\"default-selected-keys\":['fix'],\"mode\":\"horizontal\",\"theme\":\"dark\"},on:{\"click\":_vm.handleClick}},[(_vm.getRole('user'))?_c('a-menu-item',{key:\"user\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_c('span',[_vm._v(\"用户管理\")])],1):_vm._e(),(_vm.getRole('hc'))?_c('a-menu-item',{key:\"hc\"},[_c('a-icon',{attrs:{\"type\":\"bank\"}}),_c('span',[_vm._v(\"HC管理\")])],1):_vm._e(),(_vm.getRole('hcy'))?_c('a-menu-item',{key:\"hcy\"},[_c('a-icon',{attrs:{\"type\":\"facebook\"}}),_c('span',[_vm._v(\"HC預簽\")])],1):_vm._e(),_c('a-menu-item',{key:\"fix\"},[_c('a-icon',{attrs:{\"type\":\"instagram\"}}),_c('span',[_vm._v(\"Fixture list\")])],1),(_vm.getRole('fixy'))?_c('a-menu-item',{key:\"fixy\"},[_c('a-icon',{attrs:{\"type\":\"ant-cloud\"}}),_c('span',[_vm._v(\"Fixture預簽\")])],1):_vm._e()],1),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('a-dropdown-button',[_vm._v(\" \"+_vm._s(_vm.userInfo.name)+\" \"),_c('a-menu',{attrs:{\"slot\":\"overlay\"},on:{\"click\":_vm.mineClick},slot:\"overlay\"},[(this.role.indexOf('1')!=-1)?_c('a-menu-item',{key:\"showchild\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\"添加子角色\")],1):_vm._e(),_c('a-menu-item',{key:\"mine\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\"個人信息\")],1),_c('a-menu-item',{key:\"changepwd\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\"更改密碼\")],1),_c('a-menu-item',{key:\"logout\"},[_c('a-icon',{attrs:{\"type\":\"user\"}}),_vm._v(\"退出\")],1)],1),_c('a-icon',{attrs:{\"slot\":\"icon\",\"type\":\"user\"},slot:\"icon\"})],1)],1)],1),_c('a-layout-content',{style:({ padding: '0 30px','padding-top':'30px',marginTop: '64px' })},[_c('div',{style:({ background: '#fff', padding: '24px', minHeight:'360px'})},[_c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('router-view')],1)],1)]),_c('a-layout-footer',{staticStyle:{\"textAlign\":\"center\"}},[_vm._v(\" 該系統由系統開發課開發,請勿外傳系統資料,如若外傳,後果自負. \")])],1),_c('a-drawer',{attrs:{\"title\":\"更改密碼\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.pwdmodel},on:{\"close\":_vm.onClose}},[_c('a-form-model',{ref:\"ruleForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.userInfo,\"label-col\":{span: 8},\"wrapper-col\":{span: 14}}},[_c('a-form-model-item',{attrs:{\"label\":\"用戶名\"}},[_c('a-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"姓名\"}},[_c('a-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userInfo.name),callback:function ($$v) {_vm.$set(_vm.userInfo, \"name\", $$v)},expression:\"userInfo.name\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"權限\"}},[_c('a-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userInfo.power),callback:function ($$v) {_vm.$set(_vm.userInfo, \"power\", $$v)},expression:\"userInfo.power\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"舊密碼\",\"prop\":\"oldpassword\"}},[_c('a-input',{model:{value:(_vm.userInfo.oldpassword),callback:function ($$v) {_vm.$set(_vm.userInfo, \"oldpassword\", $$v)},expression:\"userInfo.oldpassword\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"新密碼\",\"prop\":\"newpassword\"}},[_c('a-input',{model:{value:(_vm.userInfo.newpassword),callback:function ($$v) {_vm.$set(_vm.userInfo, \"newpassword\", $$v)},expression:\"userInfo.newpassword\"}})],1),_c('a-form-model-item',{attrs:{\"wrapper-col\":{ span: 14, offset: 4 }}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\" 修改 \")])],1)],1)],1),_c('a-modal',{attrs:{\"zIndex\":9,\"visible\":_vm.showmine,\"footer\":null},on:{\"cancel\":_vm.hidepwdModal}},[_c('a-descriptions',{attrs:{\"title\":\"基本信息\"}},[_c('a-descriptions-item',{attrs:{\"label\":\"用戶名\"}},[_vm._v(\" \"+_vm._s(_vm.userInfo.username)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"姓名\"}},[_vm._v(\" \"+_vm._s(_vm.userInfo.name)+\" \")]),_c('a-descriptions-item',{attrs:{\"label\":\"權限\"}},[_vm._v(\" \"+_vm._s(_vm.userInfo.power)+\" \")])],1)],1),_c('a-modal',{attrs:{\"title\":\"添加子角色信息\",\"visible\":_vm.visible,\"zIndex\":9,\"cancelText\":\"关闭\",\"okText\":\"確定\"},on:{\"ok\":_vm.handleOk,\"cancel\":_vm.handleCancel}},[_c('a-form-model',{ref:\"ruleForms\",attrs:{\"rules\":_vm.rulestwo,\"model\":_vm.formData,\"label-col\":{ span: 6 },\"wrapper-col\":{ span: 16 }}},[_c('a-form-model-item',{staticStyle:{\"display\":\"none\"},attrs:{\"label\":\"id\",\"prop\":\"id\"}},[_c('a-input',{model:{value:(_vm.formData.id),callback:function ($$v) {_vm.$set(_vm.formData, \"id\", $$v)},expression:\"formData.id\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"用戶名\",\"prop\":\"username\"}},[_c('a-input',{model:{value:(_vm.formData.username),callback:function ($$v) {_vm.$set(_vm.formData, \"username\", $$v)},expression:\"formData.username\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('a-input',{model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"密碼\",\"prop\":\"password\"}},[_c('a-input',{model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"幾種\",\"prop\":\"qmodel\"}},[_c('a-checkbox-group',{model:{value:(_vm.formData.qmodel),callback:function ($$v) {_vm.$set(_vm.formData, \"qmodel\", $$v)},expression:\"formData.qmodel\"}},[_c('a-checkbox',{attrs:{\"value\":\"Mongoose\",\"name\":\"qmodel\"}},[_vm._v(\" Mongoose \")]),_c('a-checkbox',{attrs:{\"value\":\"Bison\",\"name\":\"qmodel\"}},[_vm._v(\" Bison \")]),_c('a-checkbox',{attrs:{\"value\":\"Badger\",\"name\":\"qmodel\"}},[_vm._v(\" Badger \")])],1)],1),_c('a-form-model-item',{attrs:{\"label\":\"階段\",\"prop\":\"build\"}},[_c('a-input',{model:{value:(_vm.formData.build),callback:function ($$v) {_vm.$set(_vm.formData, \"build\", $$v)},expression:\"formData.build\"}})],1),_c('a-form-model-item',{attrs:{\"label\":\"Mail發送名單\",\"prop\":\"process\"}},[_c('a-input',{model:{value:(_vm.formData.process),callback:function ($$v) {_vm.$set(_vm.formData, \"process\", $$v)},expression:\"formData.process\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div> \n        <a-layout>\n          <a-layout-header :style=\"{ position: 'fixed', zIndex: 1, width: '100%' }\">\n            <a-menu\n              :default-selected-keys=\"['fix']\"\n              mode=\"horizontal\"\n              theme=\"dark\"\n              @click=\"handleClick\"\n              :style=\"{ lineHeight: '64px',float:'left' }\"\n            >\n              <a-menu-item key=\"user\" v-if=\"getRole('user')\"><a-icon type=\"user\" /><span>用户管理</span></a-menu-item>\n              <a-menu-item key=\"hc\" v-if=\"getRole('hc')\"><a-icon type=\"bank\" /><span>HC管理</span></a-menu-item>\n              <a-menu-item key=\"hcy\" v-if=\"getRole('hcy')\"><a-icon type=\"facebook\" /><span>HC預簽</span></a-menu-item>\n              <a-menu-item key=\"fix\"><a-icon type=\"instagram\" /><span>Fixture list</span></a-menu-item>\n              <a-menu-item key=\"fixy\" v-if=\"getRole('fixy')\"><a-icon type=\"ant-cloud\" /><span>Fixture預簽</span></a-menu-item>\n            </a-menu>\n            <div style=\"float:right\">\n                <a-dropdown-button>\n                    {{userInfo.name}}\n                    <a-menu slot=\"overlay\" @click=\"mineClick\">\n                        <a-menu-item key=\"showchild\" v-if=\"this.role.indexOf('1')!=-1\"> <a-icon type=\"user\" />添加子角色</a-menu-item>\n                        <a-menu-item key=\"mine\"> <a-icon type=\"user\" />個人信息</a-menu-item>\n                        <a-menu-item key=\"changepwd\"> <a-icon type=\"user\" />更改密碼</a-menu-item>\n                        <a-menu-item key=\"logout\"> <a-icon type=\"user\" />退出</a-menu-item>\n                    </a-menu>\n                    <a-icon slot=\"icon\" type=\"user\" />\n                </a-dropdown-button>\n            </div>\n          </a-layout-header>\n          <a-layout-content :style=\"{ padding: '0 30px','padding-top':'30px',marginTop: '64px' }\">\n            <!-- 正文内容 -->\n            <div :style=\"{ background: '#fff', padding: '24px', minHeight:'360px'}\">\n              <transition :name=\"transitionName\">\n                <router-view/>\n              </transition>\n            </div>\n          </a-layout-content>\n          <a-layout-footer style=\"textAlign: center\">\n              該系統由系統開發課開發,請勿外傳系統資料,如若外傳,後果自負.\n          </a-layout-footer>\n        </a-layout>\n      <!-- 個人信息model -->\n      <a-drawer\n        title=\"更改密碼\"\n        placement=\"right\"\n        :closable=\"false\"\n        :visible=\"pwdmodel\"\n        @close=\"onClose\"\n      >\n        <a-form-model\n          ref=\"ruleForm\"\n          :rules=\"rules\"\n         :model=\"userInfo\" \n         :label-col=\"{span: 8} \" \n         :wrapper-col=\"{span: 14}\">\n          <a-form-model-item label=\"用戶名\">\n            <a-input disabled v-model=\"userInfo.username\" />\n          </a-form-model-item>\n          <a-form-model-item label=\"姓名\">\n            <a-input disabled v-model=\"userInfo.name\" />\n          </a-form-model-item>\n          <a-form-model-item label=\"權限\">\n            <a-input disabled v-model=\"userInfo.power\" />\n          </a-form-model-item>\n          <a-form-model-item label=\"舊密碼\" prop=\"oldpassword\">\n            <a-input v-model=\"userInfo.oldpassword\"/>\n          </a-form-model-item>\n          <a-form-model-item label=\"新密碼\"  prop=\"newpassword\">\n            <a-input v-model=\"userInfo.newpassword\" />\n          </a-form-model-item>\n          <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\n            <a-button type=\"primary\" @click=\"onSubmit\">\n              修改\n            </a-button>\n          </a-form-model-item>\n        </a-form-model>\n      </a-drawer>\n\n      <a-modal \n        @cancel=\"hidepwdModal\"\n        :zIndex=\"9\"\n        :visible=\"showmine\"\n        :footer=\"null\"\n      >\n        <a-descriptions title=\"基本信息\">\n          <a-descriptions-item label=\"用戶名\">\n            {{userInfo.username}}\n          </a-descriptions-item>\n          <a-descriptions-item label=\"姓名\">\n            {{userInfo.name}}\n          </a-descriptions-item>\n          <!-- <a-descriptions-item label=\"密碼\">\n            {{userInfo.password}}\n          </a-descriptions-item> -->\n          <a-descriptions-item label=\"權限\">\n            {{userInfo.power}}\n          </a-descriptions-item>\n        </a-descriptions>\n      </a-modal>\n\n      <!-- 添加或修改model -->\n    <a-modal\n      title=\"添加子角色信息\"\n      :visible=\"visible\"\n      :zIndex=\"9\"\n      @ok=\"handleOk\"\n      @cancel=\"handleCancel\"\n      cancelText=\"关闭\"\n      okText=\"確定\"\n    >\n      <a-form-model\n        ref=\"ruleForms\"\n        :rules=\"rulestwo\"\n        :model=\"formData\"\n        :label-col=\"{ span: 6 }\"\n        :wrapper-col=\"{ span: 16 }\"\n      >\n        <a-form-model-item label=\"id\"  prop=\"id\" style=\"display:none\">\n          <a-input v-model=\"formData.id\" />\n        </a-form-model-item>\n        <a-form-model-item label=\"用戶名\" prop=\"username\">\n          <a-input v-model=\"formData.username\" />\n        </a-form-model-item>\n        <a-form-model-item label=\"姓名\" prop=\"name\">\n          <a-input v-model=\"formData.name\" />\n        </a-form-model-item>\n        <a-form-model-item label=\"密碼\" prop=\"password\">\n          <a-input v-model=\"formData.password\" />\n        </a-form-model-item>\n        <a-form-model-item label=\"幾種\" prop=\"qmodel\">\n          <a-checkbox-group v-model=\"formData.qmodel\">\n            <a-checkbox value=\"Mongoose\" name=\"qmodel\">\n              Mongoose\n            </a-checkbox>\n            <a-checkbox value=\"Bison\" name=\"qmodel\">\n              Bison\n            </a-checkbox>\n            <a-checkbox value=\"Badger\" name=\"qmodel\">\n              Badger\n            </a-checkbox>\n          </a-checkbox-group>\n        </a-form-model-item>\n        <a-form-model-item label=\"階段\" prop=\"build\">\n          <a-input v-model=\"formData.build\" />\n        </a-form-model-item>\n        <a-form-model-item label=\"Mail發送名單\" prop=\"process\">\n          <a-input v-model=\"formData.process\" />\n        </a-form-model-item>\n              </a-form-model>\n\n    </a-modal>\n\n    </div> \n</template>\n\n<script>\nimport router from '@/router'\nimport {getInfo,update,save} from '@/api/system/user'\nimport security from '@/utils/security'\nexport default {\n\n  data() {\n    return {\n      userInfo: {\n        username:'',\n        name: '',\n        password: '',\n        power: '',\n        oldpassword: '',\n        newpassword: '',\n      },\n      transitionName:'slide-left',\n      role:security.getUser(),\n      showmine: false,\n      pwdmodel: false,\n      rules: {\n        oldpassword: [{ required: true, message: '請輸入舊密碼', trigger: 'change' }],\n        newpassword: [{ required: true, message: '請輸入新密碼', trigger: 'change' }],\n      },\n      visible:false,\n      formData: {\n        username: \"\",\n        password: \"\",\n        name: \"\",\n        power: \"\",\n        model: \"\",\n        qmodel: [],\n        build: \"\",\n        process: \"\",\n        pwdtime: \"\",\n        pwdbyuser: \"\",\n        powertime: \"\",\n        powerbyuser: \"\"\n      },\n      rulestwo: {\n        id: [\n          { required: false },\n        ],\n        username: [\n          { required: true, message: \"請輸入用戶名\", trigger: \"change\" },\n        ],\n        name: [{ required: true, message: \"請輸入密碼\", trigger: \"change\" }],\n        password: [\n          { required: true, message: \"請輸入密碼\", trigger: \"change\" },\n        ],\n        qmodel: [{ required: true, message: \"請選擇幾種\", trigger: \"change\" }],\n        process: [\n          { required: true, message: \"請選擇郵件發送名單\", trigger: \"change\" },\n        ],\n      },\n      userrole:security.getByKey('fixy')\n    };\n  },\n  methods: {\n    getRole(key){\n      return security.getByKey(key)\n    },\n    handleClick(e) {\n      router.push({ name: e.key })\n    },\n    mineClick(e){\n      //退出登錄\n      if(e.key=='logout'){\n        localStorage.clear();\n        router.push({ name: 'login'})\n      }\n      // 查看個人信息\n      if(e.key=='mine'){\n        this.showmine = true;\n      }\n      //更改密碼\n      if(e.key=='changepwd'){\n        this.pwdmodel = true;\n      }\n      //添加子用戶\n      if(e.key=='showchild'){\n        this.visible = true;\n      }\n    },\n    onClose() {\n      this.pwdmodel = false;\n    },\n    hidepwdModal(){\n      this.showmine = false;\n    },\n    onSubmit(){\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          if(this.userInfo.oldpassword!==this.userInfo.password){\n              this.$message.error(\"舊密碼錯誤！\");\n          }\n          else{\n            this.userInfo.password=this.userInfo.newpassword;\n            this.userInfo.pwdbyuser=this.userInfo.username;\n            this.userInfo.pwdtime=new Date();\n            save(this.userInfo).then(res => {\n              if(res.code==200){\n                this.$message.success(\"修改成功\");\n                this.pwdmodel = false;\n              }\n            })\n          }\n        } else {\n          return false;\n        }\n      });\n    },\n    handleOk() {\n      this.$refs.ruleForms.validate(valid => {\n        if (valid) {\n            //獲取編輯用戶的信息\n            getInfo().then(res => {\n              this.formData.power=res.data.power.replace('1','2');\n              this.formData.powerbyuser=res.data.username;\n              this.formData.pwdbyuser=res.data.username;\n              this.formData.powertime=new Date();\n              this.formData.pwdtime=new Date();\n              this.formData.model=this.formData.qmodel.join(\",\");\n              //發送請求\n              save(this.formData).then((res) => {\n                this.$message.success(\"添加成功\");\n                this.visible = false;\n              });\n            })\n        }\n        else{\n           return false;\n        }\n      })\n    },\n    handleCancel() {\n      this.visible = false;\n      this.$refs.ruleForms && (this.$refs.ruleForms.resetFields() || this.$refs.ruleForms.clearValidate())\n    },\n    \n  },\n  created: function () {\n    //加載首頁\n     router.push({ name: 'fix' })\n      //獲取用戶信息\n      getInfo().then(res => {\n        this.userInfo=res.data;\n        this.role=security.getUser();\n      })\n  }\n};\n</script>\n<style>\n.slide-left-enter, .slide-right-leave-to {\n  opacity: 0;\n  transform: translateY(0%)\n}\n\n.slide-left-leave-to, .slide-right-enter {\n  opacity: 0;\n  transform: translateY(0%)\n}\n\n.slide-left-enter-active, .slide-left-leave-active, .slide-right-enter-active, .slide-right-leave-active {\n  transition: 0.5s;\n  top:0;\n}\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=54c1c826&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nimport axios from 'axios'\r\n// 查询當前用户信息\r\nexport function getInfo() {\r\n  return request({\r\n    url: '/sysUsers/getInfo',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n// 分页查询用户信息\r\nexport function pageList(query) {\r\n  return request({\r\n    url: '/sysUsers/pageList',\r\n    method: 'get',\r\n    params: query,\r\n  })\r\n}\r\n\r\n// 不分页查询用户信息\r\nexport function list(data) {\r\n  return request({\r\n    url: '/sysUsers/list',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 添加用户信息\r\nexport function insert(data) {\r\n  return request({\r\n    url: '/sysUsers/insert',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 修改用户信息\r\nexport function update(data) {\r\n  return request({\r\n    url: '/sysUsers/update',\r\n    method: 'put',\r\n    data: data,\r\n  })\r\n}\r\n\r\n// 添加或修改用户信息\r\nexport function save(data) {\r\n  return request({\r\n    url: '/sysUsers/save',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 删除用户信息\r\nexport function del(id) {\r\n  return request({\r\n    url: '/sysUsers/'+id,\r\n    method: 'delete'\r\n  })\r\n}\r\n\r\n// 根据id查询用户信息\r\nexport function onebyid(id) {\r\n  return request({\r\n    url: '/sysUsers/'+id,\r\n    method: 'get'\r\n  })\r\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}