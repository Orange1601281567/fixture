(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f6db5808"],{"9d02":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{staticStyle:{"margin-bottom":"14px"},attrs:{layout:"inline",form:e.query}},[a("a-form-item",{attrs:{label:"Model"}},[a("a-input",{attrs:{disabled:""},model:{value:e.query.model,callback:function(t){e.$set(e.query,"model",t)},expression:"query.model"}})],1),a("a-form-item",{attrs:{label:"Bulid"}},[a("a-select",{staticStyle:{width:"100px"},model:{value:e.query.build,callback:function(t){e.$set(e.query,"build",t)},expression:"query.build"}},[a("a-select-option",{attrs:{value:""}},[e._v(" 请选择 ")]),a("a-select-option",{attrs:{value:"P1"}},[e._v(" P1 ")]),a("a-select-option",{attrs:{value:"P2"}},[e._v(" P2 ")]),a("a-select-option",{attrs:{value:"EVT"}},[e._v(" EVT ")]),a("a-select-option",{attrs:{value:"OVB"}},[e._v(" OVB ")]),a("a-select-option",{attrs:{value:"CRB"}},[e._v(" CRB ")]),a("a-select-option",{attrs:{value:"PRB"}},[e._v(" PRB ")]),a("a-select-option",{attrs:{value:"DVT"}},[e._v(" DVT ")]),a("a-select-option",{attrs:{value:"PPVT"}},[e._v(" PPVT ")]),a("a-select-option",{attrs:{value:"PVT-E"}},[e._v(" PVT-E ")]),a("a-select-option",{attrs:{value:"PVT"}},[e._v(" PVT ")]),a("a-select-option",{attrs:{value:"RAMP"}},[e._v(" RAMP ")]),a("a-select-option",{attrs:{value:"MP"}},[e._v(" MP ")])],1)],1),a("a-form-item",{attrs:{label:"Process"}},[a("a-input",{model:{value:e.query.process,callback:function(t){e.$set(e.query,"process",t)},expression:"query.process"}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:8,offset:5}}},[a("a-button",{attrs:{type:"primary","html-type":"submit",icon:"search"},on:{click:function(t){return e.findSubmit()}}},[e._v("查找")])],1),a("a-form-item",{attrs:{"wrapper-col":{span:8,offset:3}}},[a("a-button",{attrs:{"html-type":"submit",icon:"plus"},on:{click:function(t){return e.add()}}},[e._v("添加")])],1),a("a-form-item",{attrs:{"wrapper-col":{span:8,offset:3}}},[a("a-upload",{attrs:{name:"file",multiple:!0,action:e.baseURL+"/fixHc/upload",headers:e.headers},on:{change:e.handleChange}},[a("a-button",[a("a-icon",{attrs:{type:"upload"}}),e._v("上傳 ")],1)],1)],1),a("a-form-item",{attrs:{"wrapper-col":{span:8,offset:3}}},[a("a-button",{attrs:{"html-type":"submit",icon:"export"},on:{click:function(t){return e.exporthc()}}},[e._v("下載")])],1)],1),a("a-table",{attrs:{columns:e.columns,size:"small","data-source":e.data,rowKey:"id"},scopedSlots:e._u([{key:"action",fn:function(t){return a("span",{},[a("a",{on:{click:function(a){return e.edit(t)}}},[a("a-icon",{attrs:{type:"edit"}})],1),a("a-divider",{attrs:{type:"vertical"}}),"IE_1"==e.role||"admin"==e.role?a("a-popconfirm",{attrs:{title:"您確定要刪除該數據嗎?","ok-text":"Yes","cancel-text":"No"},on:{confirm:function(a){return e.deluser(t.id)}}},[a("a",{staticStyle:{color:"red"}},[a("a-icon",{attrs:{type:"delete"}})],1)]):e._e(),a("a-divider",{attrs:{type:"vertical"}}),a("a",{staticStyle:{color:"green"},on:{click:function(a){return e.addfixture(t)}}},[a("a-icon",{attrs:{type:"plus"}}),e._v("Fixture")],1)],1)}},{key:"expandedRowRender",fn:function(t){return a("a-descriptions",{staticStyle:{margin:"0"}},[a("a-descriptions-item",{attrs:{label:"Model"}},[e._v(" "+e._s(t.model)+" ")]),a("a-descriptions-item",{attrs:{label:"Build"}},[e._v(" "+e._s(t.build)+" ")]),a("a-descriptions-item",{attrs:{label:"Process"}},[e._v(" "+e._s(t.process)+" ")]),a("a-descriptions-item",{attrs:{label:"UPH"}},[e._v(" "+e._s(t.uph)+" ")]),a("a-descriptions-item",{attrs:{label:"Type"}},[e._v(" "+e._s(t.type)+" ")]),a("a-descriptions-item",{attrs:{label:"No"}},[e._v(" "+e._s(t.sno)+" ")]),a("a-descriptions-item",{attrs:{label:"Station Name"}},[e._v(" "+e._s(t.sname)+" ")]),a("a-descriptions-item",{attrs:{label:"HC"}},[e._v(" "+e._s(t.qpl)+" ")]),a("a-descriptions-item",{attrs:{label:"Lasttime"}},[e._v(" "+e._s(t.lasttime)+" ")])],1)}}])}),a("a-modal",{attrs:{title:e.title,visible:e.visible,zIndex:9,cancelText:"关闭",okText:"確定"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-form-model",{ref:"ruleForm",attrs:{rules:e.rules,model:e.formData,"label-col":{span:6},"wrapper-col":{span:16}}},[a("a-form-model-item",{staticStyle:{display:"none"},attrs:{label:"id",prop:"id"}},[a("a-input",{model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("a-form-model-item",{attrs:{label:"Model",prop:"model"}},[a("a-input",{attrs:{disabled:""},model:{value:e.formData.model,callback:function(t){e.$set(e.formData,"model",t)},expression:"formData.model"}})],1),a("a-form-model-item",{attrs:{label:"Build",prop:"build"}},[a("a-input",{model:{value:e.formData.build,callback:function(t){e.$set(e.formData,"build",t)},expression:"formData.build"}})],1),a("a-form-model-item",{attrs:{label:"Process",prop:"process"}},[a("a-input",{model:{value:e.formData.process,callback:function(t){e.$set(e.formData,"process",t)},expression:"formData.process"}})],1),a("a-form-model-item",{attrs:{label:"No",prop:"sno"}},[a("a-input",{model:{value:e.formData.sno,callback:function(t){e.$set(e.formData,"sno",t)},expression:"formData.sno"}})],1),a("a-form-model-item",{attrs:{label:"Station Name",prop:"sname"}},[a("a-input",{model:{value:e.formData.sname,callback:function(t){e.$set(e.formData,"sname",t)},expression:"formData.sname"}})],1),a("a-form-model-item",{attrs:{label:"QPL",prop:"qpl"}},[a("a-input",{model:{value:e.formData.qpl,callback:function(t){e.$set(e.formData,"qpl",t)},expression:"formData.qpl"}})],1),a("a-form-model-item",{attrs:{label:"CT"}},[a("a-input",{model:{value:e.formData.ct,callback:function(t){e.$set(e.formData,"ct",t)},expression:"formData.ct"}})],1)],1)],1),a("a-modal",{attrs:{title:"添加fixture信息",visible:e.fixvisible,zIndex:9,cancelText:"关闭",okText:"確定"},on:{ok:e.fixhandleOk,cancel:e.fixhandleCancel}},[a("a-form-model",{ref:"addfixForm",attrs:{rules:e.fixrules,model:e.fixData,"label-col":{span:6},"wrapper-col":{span:16}}},[a("a-form-model-item",{staticStyle:{display:"none"},attrs:{label:"id",prop:"id"}},[a("a-input",{model:{value:e.fixData.id,callback:function(t){e.$set(e.fixData,"id",t)},expression:"fixData.id"}})],1),a("a-form-model-item",{attrs:{label:"Build"}},[a("a-input",{attrs:{disabled:""},model:{value:e.fixData.build,callback:function(t){e.$set(e.fixData,"build",t)},expression:"fixData.build"}})],1),a("a-form-model-item",{attrs:{label:"Process"}},[a("a-input",{attrs:{disabled:""},model:{value:e.fixData.process,callback:function(t){e.$set(e.fixData,"process",t)},expression:"fixData.process"}})],1),a("a-form-model-item",{attrs:{label:"Station Name"}},[a("a-input",{attrs:{disabled:""},model:{value:e.fixData.sname,callback:function(t){e.$set(e.fixData,"sname",t)},expression:"fixData.sname"}})],1),a("a-form-model-item",{attrs:{label:"Fixture name",prop:"fname"}},[a("a-input",{model:{value:e.fixData.fname,callback:function(t){e.$set(e.fixData,"fname",t)},expression:"fixData.fname"}})],1),a("a-form-model-item",{attrs:{label:"QTY per station",prop:"qtystation"}},[a("a-input",{model:{value:e.fixData.qtystation,callback:function(t){e.$set(e.fixData,"qtystation",t)},expression:"fixData.qtystation"}})],1),a("a-form-model-item",{attrs:{label:"Quantity per Line",prop:"qpline"}},[a("a-input",{model:{value:e.fixData.qpline,callback:function(t){e.$set(e.fixData,"qpline",t)},expression:"fixData.qpline"}})],1),a("a-form-model-item",{attrs:{label:"Dep",prop:"dept"}},[a("a-input",{model:{value:e.fixData.dept,callback:function(t){e.$set(e.fixData,"dept",t)},expression:"fixData.dept"}})],1)],1)],1)],1)},s=[],r=(a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("5319"),a("ddb0"),a("2b3d"),a("34fe")),o=a("d7b5"),n=a("5c61"),l=a("f691"),c=(a("c0c7"),a("c436")),d=a("b775"),u=[{title:"Model",dataIndex:"model",width:100},{title:"Build",dataIndex:"build",width:80},{title:"Process",dataIndex:"process",width:100},{title:"UPH",dataIndex:"uph",width:80},{title:"Type",dataIndex:"type",width:100},{title:"No",dataIndex:"sno",width:100},{title:"Station Name",dataIndex:"sname",ellipsis:!0},{title:"HC",dataIndex:"qpl",width:70},{title:"操作",dataIndex:"",key:"x",width:150,scopedSlots:{customRender:"action"}}],m={data:function(){return{data:[],headers:{authorization:localStorage.getItem("token")},baseURL:d["a"].defaults.baseURL,role:c["a"].getUser(),columns:u,query:{limit:50,page:1,model:localStorage.getItem("model"),build:"",process:""},title:"HC修改",visible:!1,fixvisible:!1,delvisible:!1,fixData:{lasttime:""},formData:{model:localStorage.getItem("model"),build:"",process:"",sno:"",sname:"",qpl:"",ct:"",remark:"",lasttime:""},rules:{id:[{required:!1}],model:[{required:!0,message:"請輸入幾種名稱",trigger:"change"}],build:[{required:!0,message:"請輸入階段",trigger:"change"}],process:[{required:!0,message:"請輸入process",trigger:"change"}],sno:[{required:!0,message:"請輸入no",trigger:"change"}],sname:[{required:!0,message:"請選擇站位名稱",trigger:"change"}],qpl:[{required:!0,message:"請輸入QPL",trigger:"change"}]},fixrules:{fname:[{required:!0,message:"請输入fixture name",trigger:"change"}],qpline:[{required:!0,message:"請输入Quantity per Line",trigger:"change"}],qtystation:[{required:!0,message:"請输入QTY per station",trigger:"change"}],dept:[{required:!0,message:"請输入部门",trigger:"change"}]}}},methods:{findSubmit:function(){var e=this;Object(r["c"])(this.query).then((function(t){e.data=t.data}))},edit:function(e){var t=this;this.title="HC修改",this.visible=!0,setTimeout((function(){t.$refs.ruleForm&&(t.$refs.ruleForm.resetFields()||t.$refs.ruleForm.clearValidate()),Object.assign(t.formData,e)}))},deluser:function(e){var t=this;Object(r["a"])(e).then((function(e){200==e.code&&(t.$message.success("刪除成功"),t.findSubmit())}))},add:function(){this.title="HC添加",this.visible=!0,this.$refs.ruleForm&&(this.$refs.ruleForm.resetFields()||this.$refs.ruleForm.clearValidate())},handleOk:function(){var e=this;this.formData.lasttime=this.format(new Date,"yyyy-MM-dd HH:mm:ss"),this.$refs.ruleForm.validate((function(t){if(!t)return!1;"admin"==e.role||"IE_1"==e.role?Object(r["d"])(e.formData).then((function(t){200==t.code&&void 0===e.formData.id?e.$message.success("添加成功"):e.$message.success("修改成功"),e.visible=!1,e.findSubmit()})):(void 0!==e.formData.id&&(e.formData.hcid=e.formData.id,e.formData.id=""),Object(o["b"])(e.formData).then((function(t){200==t.code&&void 0===e.formData.hcid?e.$message.success("預添加成功,請等待確認"):e.$message.success("預修改成功,請等待確認"),e.visible=!1,e.findSubmit()})))}))},handleCancel:function(){this.visible=!1,this.findSubmit()},handleChange:function(e){"done"===e.file.status?this.$message.success("".concat(e.file.name," 文件上傳成功")):"error"===e.file.status&&this.$message.error("".concat(e.file.name," file upload failed."))},exporthc:function(){Object(r["b"])(this.formData.model).then((function(e){var t=e,a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download="HC信息表",a.click()}))},addfixture:function(e){this.fixvisible=!0,this.fixData=e},fixhandleCancel:function(){this.fixvisible=!1},fixhandleOk:function(){var e=this;this.$refs.addfixForm.validate((function(t){if(!t)return!1;e.fixData.lasttime=e.format(new Date,"yyyy-MM-dd HH:mm:ss"),e.fixData.hcid=e.fixData.id,e.fixData.id="","admin"==e.role||"IE_1"==e.role?Object(n["c"])(e.fixData).then((function(t){200==t.code&&e.$message.success("fixture添加成功")})):Object(l["b"])(e.fixData).then((function(t){200==t.code&&e.$message.success("fixture預添加成功,請等待確認")})),e.fixData.fname="",e.fixData.qtystation="",e.fixData.qpline="",e.fixData.dept=""}))},format:function(e,t){var a=new Date(e),i=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|dd|HH|mm|ss/g,(function(e){switch(e){case"yyyy":return i(a.getFullYear());case"MM":return i(a.getMonth()+1);case"mm":return i(a.getMinutes());case"dd":return i(a.getDate());case"HH":return i(a.getHours());case"ss":return i(a.getSeconds())}}))}},created:function(){var e=this;Object(r["c"])(this.query).then((function(t){e.data=t.data}))}},f=m,p=a("2877"),b=Object(p["a"])(f,i,s,!1,null,null,null);t["default"]=b.exports},b0c0:function(e,t,a){var i=a("83ab"),s=a("9bf2").f,r=Function.prototype,o=r.toString,n=/^\s*function ([^ (]*)/,l="name";i&&!(l in r)&&s(r,l,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(e){return""}}})},c0c7:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return n}));var i=a("b775");a("bc3a");function s(){return Object(i["a"])({url:"/sysUsers/getInfo",method:"get"})}function r(e){return Object(i["a"])({url:"/sysUsers/pageList",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/sysUsers/save",method:"post",data:e})}function n(e){return Object(i["a"])({url:"/sysUsers/"+e,method:"delete"})}},d7b5:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var i=a("b775");function s(e){return Object(i["a"])({url:"/fixHcy/list",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/fixHcy/insert",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/fixHcy/"+e,method:"delete"})}}}]);
//# sourceMappingURL=chunk-f6db5808.7c2490bb.js.map